korea_mission_1 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = KOR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	kor_establish_hangul = {
	icon = mission_hangul
	required_missions = { }
	position = 1
	
	ai_weight = {
			factor = 0.75
		}
	trigger = {
		AND = {
			is_year = 1446
			NOT = {
					estate_influence = {
						estate = all
						influence = 30
					}
				}
			}
		}
	effect = {
		country_event = { id = kor_expanded.1}
			korea_region = {
				add_province_modifier = {
					name = kor_establish_hangul_1
					duration = -1
				}
			}
		}
	}
	
	kor_hungu_sarim = {
	icon = mission_scholar_officials
	required_missions = { kor_establish_hangul }
	position = 2
	
	trigger = {
		OR = {
				has_country_flag = kor_sejo_coup
			AND = {
					legitimacy_equivalent = 90
					stability = 2 
				}
			}
		}
		
	effect = {
			clr_country_flag = kor_sejo_coup
			country_event = { id = kor_expanded.3 }
		}
	}
	
	kor_gyeongguk_daejoen = {
	icon = mission_gyeongggukdaejeon
	required_missions = { kor_hungu_sarim }
	position = 3
	
	trigger = {
			AND = {
					has_adm_advisor = yes
					has_dip_advisor = yes
					has_mil_advisor = yes
					if = {
						limit = {
							has_estate = estate_church
						}
						estate_loyalty = {
							estate = estate_church
							loyalty = 60
						}
					}
					if = {
						limit = {
							has_estate = estate_burghers
						}
						estate_loyalty = {
							estate = estate_burghers
							loyalty = 60
						}
					}
					if = {
						limit = {
							has_estate = estate_nobles
						}
						estate_loyalty = {
							estate = estate_nobles
							loyalty = 60
						}
					}
					is_at_war = no
				}
			}
		effect = {
			add_country_modifier = {
				name = gyeongguk_daejoen
				duration = -1
			}
		}
	}
	kor_renaissance = {
	icon = kor_renaissance
	required_missions = { kor_gyeongguk_daejoen jang_yeong_sil_legacy }
	position = 4
	provinces_to_highlight = {
		region = korea_region
	}
		trigger = {
			has_institution = renaissance
			development_in_provinces = {
				value = 250
				region = korea_region
			}
		}
	
		effect = {
			add_country_modifier = {
				name = kor_renaissance_bloom
				duration = 18250
			}
		}
	}
}
korea_mission_2 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = KOR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	jang_yeong_sil_legacy = {
	icon = kor_legacy
	required_missions = {kor_establish_hangul}
	position = 2
	
	trigger = {
		OR = {
				philosopher = 2
				natural_scientist = 2
				artist = 2
			}
		}
	effect = {
		add_country_modifier = {
			name = kor_legacy
			duration = 7300
			}
		}
	}
	
	kor_engineering = {
	icon = mission_have_manufactories
	required_missions = { jang_yeong_sil_legacy }
	position = 3
	
	trigger = {
			workshop = 10
		}
	effect = {
		enable_development_on_buildings_built = yes
		korea_region = {
			add_province_modifier = {
					name = kor_engineering_skill
					duration = -1
				}
			}
		}
	}
	
	kor_early_urbanization = {
	icon = mission_early_game_buildings
	required_missions = { kor_engineering kor_renaissance}
	position = 5
	provinces_to_highlight = {
		OR = {
				area = pyongan_area
				area = hamgyeong_area
				area = western_korea_area
				area = eastern_korea_area
				area = south_korea_area
			}
			OR = {
				NOT = { is_core = ROOT }
				NOT = { owned_by = ROOT }
				NOT = { num_of_times_improved_by_owner = 3 }
				NOT = { has_production_building_trigger = yes }
			}
		}
	trigger = {
			south_korea_area = {
				owned_by = ROOT
				is_core = ROOT
				num_of_times_improved = 3
				has_production_building_trigger = yes
				type = all
			}
			eastern_korea_area = {
				owned_by = ROOT
				is_core = ROOT
				num_of_times_improved = 3
				has_production_building_trigger = yes
				type = all
			}
			western_korea_area = {
				owned_by = ROOT
				is_core = ROOT
				num_of_times_improved = 3
				has_production_building_trigger = yes
				type = all
			}
			hamgyeong_area = {
				owned_by = ROOT
				is_core = ROOT
				num_of_times_improved = 3
				has_production_building_trigger = yes
				type = all
			}
			pyongan_area = {
				owned_by = ROOT
				is_core = ROOT
				num_of_times_improved = 3
				has_production_building_trigger = yes
				type = all
			}
		}
		effect = {
			korea_region = {
				add_province_modifier = {
					name = kor_urbanization
					duration = -1
				}
			}
		}
	}
}

korea_mission_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = KOR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	kor_revive_byuklando = {
	icon = mission_conquer_algiers
	required_missions = { kor_establish_hangul }
	position = 2
	
	provinces_to_highlight = {
			province_id = 4231
			OR = {
				NOT = { owned_by = ROOT }
				AND = {
					NOT = { has_building = marketplace }
					NOT = { has_building = trade_depot }
					NOT = { has_building = stock_exchange }
				}
			}
		}
	trigger = {
			owns = 4231
			4231 = {
				OR = {
					has_building = marketplace
					has_building = trade_depot
					has_building = stock_exchange
				}
			}
			OR = {
				full_idea_group = economic_ideas
				full_idea_group = trade_ideas
			}
		}
	effect = {
		4231 = {
				center_of_trade = 1
			}
		}
	}
}

korea_mission_4 = {
	slot = 4
	generic = no
	ai = yes
	potential_on_load = {
		has_dlc = "Mandate of Heaven"
	}
	potential = {
		tag = KOR
		NOT = { map_setup = map_setup_random }
		has_dlc = "Mandate of Heaven"
	}
	has_country_shield = yes
	
	kor_southern_path = {
	icon = mission_arabian_ports
	position = 2
	required_missions = { kor_remilitarize }
	provinces_to_highlight = {
			province_id = 2745
			OR = {
				NOT = { owned_by = ROOT }
				AND = {
					NOT = { has_building = shipyard }
					NOT = { has_building = dock }
					NOT = { has_building = drydock }
					NOT = { has_building = grand_shipyard }
				}
			}
		}
		trigger = {
			2745 = {
				OR = {
					has_building = shipyard
					has_building = dock
					has_building = drydock
					has_building = grand_shipyard
				}
			}
			num_of_galley = 15
		}
		
		effect = { 
			sanindo_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = root
			}
			kyushu_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = root
			}
			northern_kyushu = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = root
			}
			saigoku_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = root
			}
		}
	}
	kor_defeat_shogun = {
		icon = mission_japanese_samurai
		position = 3
		required_missions = { kor_southern_path }
		provinces_to_highlight = {
			province_id = 1020
		}

		trigger = {
			owns = 1020
		}
		
		effect = {
			
			country_event = { id = flavor_kor.7 }

			japan_region = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
					is_city = yes
				}
				add_core = KOR
			}
		}
	}
}

korea_mission_5 = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = KOR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	kor_remilitarize = {
	icon = mission_assemble_an_army
	position = 1
	required_missions = {  }
	trigger = {
		army_size_percentage = 1
	}
	effect = {
			country_event = { id = kor_expanded.4 }
			if = {
				limit = {
					has_country_flag = starts_with_inwards_perfection
					has_estate_privilege = estate_church_inwards_perfection
				}
				remove_estate_privilege = estate_church_inwards_perfection
				clr_country_flag = starts_with_inwards_perfection
			}
		}
	}
	
	kor_northern_path = {
	icon = mission_konkani_pirates
	required_missions = { kor_remilitarize }
	provinces_to_highlight = {
			OR = {
				area = pyongan_area
				area = hamgyeong_area
			}
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { fort_level = 1 }
				NOT = { base_manpower = 3 }
			}
			NOT = {
				pyongan_area = {
					owned_by = ROOT
					fort_level = 1
					base_manpower = 3
				}
			}
			NOT = {
				hamgyeong_area = {
					owned_by = ROOT
					fort_level = 1
					base_manpower = 3
				}
			}
		}
		trigger = {
			OR = {
				pyongan_area = {
					owned_by = ROOT
					fort_level = 1
					base_manpower = 3
				}
				hamgyeong_area = {
					owned_by = ROOT
					fort_level = 1
					base_manpower = 3
				}
			}
		}
		effect = {
			create_general = {
				tradition = 100
				add_shock = 2
			}
			add_mil_power = 100
		}
	}
	
	kor_samin_policy = {
	icon = mission_konkani_pirates
	required_missions = { kor_northern_path }
	provinces_to_highlight = {
			OR = {
				AND = {
					province_id = 2742
					NOT = { culture = korean }
					NOT = { culture = korean_new }
				}
				AND = {
					province_id = 2743
					NOT = { culture = korean }
					NOT = { culture = korean_new }
				}
			}
		}

		trigger = {
			2742 = {
				OR = {
					culture = korean
					culture = korean_new
				}
			}
			2743 = {
				OR = {
					culture = korean
					culture = korean_new
				}
			}
		}
		effect = {
			2742 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
				add_province_modifier = {
					name = kor_togwan
					duration = -7300
				}
			}
			2743 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
				add_province_modifier = {
					name = kor_togwan
					duration = -7300
				}
			}
		}
	}
	
	kor_claim_Paektu = {
		icon = mission_unite_home_region
		required_missions = { }
		position = 4
		required_missions = { kor_samin_policy }
		
		provinces_to_highlight = {
			province_id = 4201
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { is_core = ROOT }
			}
		}
		
		trigger = {
			4201 = {
				owned_by = ROOT
				is_core = ROOT
			}
		}
		
		effect = {
			add_prestige = 15
		
			ningguta_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_core = ROOT
			}
			jilin_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_core = ROOT
			}
			liaoning_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_core = ROOT
			}
			furdan_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_core = ROOT
			}
		}
	}
	
	kor_reclaim_goguryeo = {
	icon = mission_conquer_50_development
	required_missions = { kor_claim_Paektu }
	provinces_to_highlight = {
			OR = {
				province_id = 2112
				province_id = 2113
				province_id = 726
				province_id = 2106
				province_id = 4652
				area = jilin_area
				area = ningguta_area
				region = korea_region
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
	
		trigger = {
				2112 = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				2113 = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				726 = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				2106 = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				4652 = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				jilin_area = {
					type = all
					country_or_non_sovereign_subject_holds = ROOT
				}
				ningguta_area = {
					type = all
					country_or_non_sovereign_subject_holds = ROOT
				}
				korea_region = {
					type = all
					country_or_non_sovereign_subject_holds = ROOT
				}
			}
		effect = {
			manchuria_region = {
				limit = {
					NOT = { is_core = ROOT }
				}
				add_core = ROOT
			}
		}
	}
	
	KOR_subjugate_the_jurchens = {
		icon = mission_junnagadh_fort
		required_missions = { kor_reclaim_goguryeo }
		provinces_to_highlight = {
			region = manchuria_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			ROOT = {
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 30
						region = manchuria_region
					}
				}
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 30
				region = manchuria_region
			}
		}
		effect = {
			hidden_effect = {
				manchuria_region = {
					limit = {
						is_state_core = ROOT
						owned_by = ROOT
					}
					add_local_autonomy = -10
				}
			}
			hidden_effect = {
				every_owned_province = {
					limit = {
						culture_group = evenks
					}
					change_culture = korean
				}
				every_owned_province = {
					limit = {
						culture_group = kamchatkan_g
					}
					change_culture = korean
				}
			}
		}
	}
}